<!DOCTYPE html>
<html>
<head>
    <title>Simplex Solver</title>
</head>
<body>
    <h1>Simplex Solver</h1>
    <form id="simplexForm">
        <div>
            <label for="c">Coefficients (c):</label>
            <input type="text" id="c" name="c" value="1, 2, 3">
        </div>
        <div>
            <label for="A">Constraints (A):</label>
            <input type="text" id="A" name="A" value="1, 1, 0; 0, 1, 1">
        </div>
        <div>
            <label for="b">Bounds (b):</label>
            <input type="text" id="b" name="b" value="4, 5">
        </div>
        <button type="submit">Solve</button>
    </form>
    <pre id="result"></pre>

    <script src="./glpk.js-master/glpk.min.js"></script>
    <script>
        document.getElementById('simplexForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const c = document.getElementById('c').value.split(',').map(Number);
            const A = document.getElementById('A').value.split(';').map(row => row.split(',').map(Number));
            const b = document.getElementById('b').value.split(',').map(Number);

            const lp = {
                name: "simplex",
                objective: {
                    direction: glpk.GLP_MIN,
                    name: "obj",
                    vars: c.map((value, index) => ({ name: `x${index + 1}`, coef: value }))
                },
                subjectTo: A.map((row, rowIndex) => ({
                    name: `c${rowIndex + 1}`,
                    vars: row.map((coef, colIndex) => ({ name: `x${colIndex + 1}`, coef })),
                    bnds: { type: glpk.GLP_UP, ub: b[rowIndex] }
                }))
            };

            glpk.solve(lp, glpk.GLP_MSG_ALL, function(result) {
                document.getElementById('result').textContent = JSON.stringify(result, null, 2);
            });
        });
    </script>
</body>
</html>
